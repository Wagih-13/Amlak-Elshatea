import{u as O,j as e,r as v,R as F,g as Ee,b as Je,B as Qe,c as ve,d as Se,L as Ke,e as ye,f as Ue,S as xe,s as Ie,F as Ze}from"./index-9lkFN0r1.js";import et from"./Navbar-tC8KJGvV.js";import{e as tt,a as Ne,b as at,S as st,c as nt}from"./swiper-8ddK2AMo.js";import{c as rt}from"./create-element-if-not-defined--NQQaUgd.js";import it from"./Footer-QoHgJKqR.js";import{C as Pe}from"./Calendar-nfCZfoLw.js";import{u as $e}from"./hooks-bXIZ6ZX-.js";import{S as lt,F as ot,a as ct,K as dt,B as mt,C as pt,N as ut}from"./Icons--k-1nZvJ.js";import{u as q,a as de}from"./UnitDetails-GBFcYWzZ.js";import{F as _}from"./index.es-0w6C3KRI.js";import{f as be,a as Le,b as ht,c as ft,d as xt,e as gt,g as jt,h as vt,i as yt,j as bt,k as Nt}from"./index-5OaO6oW1.js";import{M as me}from"./MainButton-_P4TI_oS.js";import{S as Fe}from"./SecondaryButton-fAf2Q4Jb.js";import{P as wt}from"./index-Qrf1_4ws.js";import{A as Ct,p as kt}from"./AsYouType-pOn9CBmB.js";import{f as Dt,F as Et}from"./FavoriteButton-w6vTDgic.js";import{M as St,T as Ut,a as It,b as Pt}from"./MarkerIcon-31VE8jbv.js";import{u as $t}from"./useUnitRating-S_LA3xkZ.js";import"./useQuery-TR_kGZ4x.js";import"./HomeData-Zlw43Yl1.js";import"./index-84iKp455.js";import"./web-VLEEUw5G.js";function te(a){return a===void 0&&(a=""),`.${a.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Lt(a){let{swiper:t,extendParams:c,on:o,emit:s}=a;const l="swiper-pagination";c({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:r=>r,formatFractionTotal:r=>r,bulletClass:`${l}-bullet`,bulletActiveClass:`${l}-bullet-active`,modifierClass:`${l}-`,currentClass:`${l}-current`,totalClass:`${l}-total`,hiddenClass:`${l}-hidden`,progressbarFillClass:`${l}-progressbar-fill`,progressbarOppositeClass:`${l}-progressbar-opposite`,clickableClass:`${l}-clickable`,lockClass:`${l}-lock`,horizontalClass:`${l}-horizontal`,verticalClass:`${l}-vertical`,paginationDisabledClass:`${l}-disabled`}}),t.pagination={el:null,bullets:[]};let n,d=0;const p=r=>(Array.isArray(r)?r:[r]).filter(i=>!!i);function g(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function u(r,i){const{bulletActiveClass:m}=t.params.pagination;r&&(r=r[`${i==="prev"?"previous":"next"}ElementSibling`],r&&(r.classList.add(`${m}-${i}`),r=r[`${i==="prev"?"previous":"next"}ElementSibling`],r&&r.classList.add(`${m}-${i}-${i}`)))}function w(r){const i=r.target.closest(te(t.params.pagination.bulletClass));if(!i)return;r.preventDefault();const m=Ne(i)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===m)return;t.slideToLoop(m)}else t.slideTo(m)}function N(){const r=t.rtl,i=t.params.pagination;if(g())return;let m=t.pagination.el;m=p(m);let f,E;const S=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,x=t.params.loop?Math.ceil(S/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(E=t.previousRealIndex||0,f=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(f=t.snapIndex,E=t.previousSnapIndex):(E=t.previousIndex||0,f=t.activeIndex||0),i.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const h=t.pagination.bullets;let P,$,R;if(i.dynamicBullets&&(n=tt(h[0],t.isHorizontal()?"width":"height",!0),m.forEach(y=>{y.style[t.isHorizontal()?"width":"height"]=`${n*(i.dynamicMainBullets+4)}px`}),i.dynamicMainBullets>1&&E!==void 0&&(d+=f-(E||0),d>i.dynamicMainBullets-1?d=i.dynamicMainBullets-1:d<0&&(d=0)),P=Math.max(f-d,0),$=P+(Math.min(h.length,i.dynamicMainBullets)-1),R=($+P)/2),h.forEach(y=>{const k=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(U=>`${i.bulletActiveClass}${U}`)].map(U=>typeof U=="string"&&U.includes(" ")?U.split(" "):U).flat();y.classList.remove(...k)}),m.length>1)h.forEach(y=>{const k=Ne(y);k===f?y.classList.add(...i.bulletActiveClass.split(" ")):t.isElement&&y.setAttribute("part","bullet"),i.dynamicBullets&&(k>=P&&k<=$&&y.classList.add(...`${i.bulletActiveClass}-main`.split(" ")),k===P&&u(y,"prev"),k===$&&u(y,"next"))});else{const y=h[f];if(y&&y.classList.add(...i.bulletActiveClass.split(" ")),t.isElement&&h.forEach((k,U)=>{k.setAttribute("part",U===f?"bullet-active":"bullet")}),i.dynamicBullets){const k=h[P],U=h[$];for(let M=P;M<=$;M+=1)h[M]&&h[M].classList.add(...`${i.bulletActiveClass}-main`.split(" "));u(k,"prev"),u(U,"next")}}if(i.dynamicBullets){const y=Math.min(h.length,i.dynamicMainBullets+4),k=(n*y-n)/2-R*n,U=r?"right":"left";h.forEach(M=>{M.style[t.isHorizontal()?U:"top"]=`${k}px`})}}m.forEach((h,P)=>{if(i.type==="fraction"&&(h.querySelectorAll(te(i.currentClass)).forEach($=>{$.textContent=i.formatFractionCurrent(f+1)}),h.querySelectorAll(te(i.totalClass)).forEach($=>{$.textContent=i.formatFractionTotal(x)})),i.type==="progressbar"){let $;i.progressbarOpposite?$=t.isHorizontal()?"vertical":"horizontal":$=t.isHorizontal()?"horizontal":"vertical";const R=(f+1)/x;let y=1,k=1;$==="horizontal"?y=R:k=R,h.querySelectorAll(te(i.progressbarFillClass)).forEach(U=>{U.style.transform=`translate3d(0,0,0) scaleX(${y}) scaleY(${k})`,U.style.transitionDuration=`${t.params.speed}ms`})}i.type==="custom"&&i.renderCustom?(h.innerHTML=i.renderCustom(t,f+1,x),P===0&&s("paginationRender",h)):(P===0&&s("paginationRender",h),s("paginationUpdate",h)),t.params.watchOverflow&&t.enabled&&h.classList[t.isLocked?"add":"remove"](i.lockClass)})}function I(){const r=t.params.pagination;if(g())return;const i=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let m=t.pagination.el;m=p(m);let f="";if(r.type==="bullets"){let E=t.params.loop?Math.ceil(i/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&E>i&&(E=i);for(let S=0;S<E;S+=1)r.renderBullet?f+=r.renderBullet.call(t,S,r.bulletClass):f+=`<${r.bulletElement} ${t.isElement?'part="bullet"':""} class="${r.bulletClass}"></${r.bulletElement}>`}r.type==="fraction"&&(r.renderFraction?f=r.renderFraction.call(t,r.currentClass,r.totalClass):f=`<span class="${r.currentClass}"></span> / <span class="${r.totalClass}"></span>`),r.type==="progressbar"&&(r.renderProgressbar?f=r.renderProgressbar.call(t,r.progressbarFillClass):f=`<span class="${r.progressbarFillClass}"></span>`),t.pagination.bullets=[],m.forEach(E=>{r.type!=="custom"&&(E.innerHTML=f||""),r.type==="bullets"&&t.pagination.bullets.push(...E.querySelectorAll(te(r.bulletClass)))}),r.type!=="custom"&&s("paginationRender",m[0])}function C(){t.params.pagination=rt(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const r=t.params.pagination;if(!r.el)return;let i;typeof r.el=="string"&&t.isElement&&(i=t.el.querySelector(r.el)),!i&&typeof r.el=="string"&&(i=[...document.querySelectorAll(r.el)]),i||(i=r.el),!(!i||i.length===0)&&(t.params.uniqueNavElements&&typeof r.el=="string"&&Array.isArray(i)&&i.length>1&&(i=[...t.el.querySelectorAll(r.el)],i.length>1&&(i=i.filter(m=>at(m,".swiper")[0]===t.el)[0])),Array.isArray(i)&&i.length===1&&(i=i[0]),Object.assign(t.pagination,{el:i}),i=p(i),i.forEach(m=>{r.type==="bullets"&&r.clickable&&m.classList.add(...(r.clickableClass||"").split(" ")),m.classList.add(r.modifierClass+r.type),m.classList.add(t.isHorizontal()?r.horizontalClass:r.verticalClass),r.type==="bullets"&&r.dynamicBullets&&(m.classList.add(`${r.modifierClass}${r.type}-dynamic`),d=0,r.dynamicMainBullets<1&&(r.dynamicMainBullets=1)),r.type==="progressbar"&&r.progressbarOpposite&&m.classList.add(r.progressbarOppositeClass),r.clickable&&m.addEventListener("click",w),t.enabled||m.classList.add(r.lockClass)}))}function j(){const r=t.params.pagination;if(g())return;let i=t.pagination.el;i&&(i=p(i),i.forEach(m=>{m.classList.remove(r.hiddenClass),m.classList.remove(r.modifierClass+r.type),m.classList.remove(t.isHorizontal()?r.horizontalClass:r.verticalClass),r.clickable&&(m.classList.remove(...(r.clickableClass||"").split(" ")),m.removeEventListener("click",w))})),t.pagination.bullets&&t.pagination.bullets.forEach(m=>m.classList.remove(...r.bulletActiveClass.split(" ")))}o("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const r=t.params.pagination;let{el:i}=t.pagination;i=p(i),i.forEach(m=>{m.classList.remove(r.horizontalClass,r.verticalClass),m.classList.add(t.isHorizontal()?r.horizontalClass:r.verticalClass)})}),o("init",()=>{t.params.pagination.enabled===!1?b():(C(),I(),N())}),o("activeIndexChange",()=>{typeof t.snapIndex>"u"&&N()}),o("snapIndexChange",()=>{N()}),o("snapGridLengthChange",()=>{I(),N()}),o("destroy",()=>{j()}),o("enable disable",()=>{let{el:r}=t.pagination;r&&(r=p(r),r.forEach(i=>i.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),o("lock unlock",()=>{N()}),o("click",(r,i)=>{const m=i.target,f=p(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&f&&f.length>0&&!m.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&m===t.navigation.nextEl||t.navigation.prevEl&&m===t.navigation.prevEl))return;const E=f[0].classList.contains(t.params.pagination.hiddenClass);s(E===!0?"paginationShow":"paginationHide"),f.forEach(S=>S.classList.toggle(t.params.pagination.hiddenClass))}});const D=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:r}=t.pagination;r&&(r=p(r),r.forEach(i=>i.classList.remove(t.params.pagination.paginationDisabledClass))),C(),I(),N()},b=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:r}=t.pagination;r&&(r=p(r),r.forEach(i=>i.classList.add(t.params.pagination.paginationDisabledClass))),j()};Object.assign(t.pagination,{enable:D,disable:b,render:I,update:N,init:C,destroy:j})}const ae=(a,t)=>t==="en"?a===1?"One night":`${a} nights`:a===1?"ليلة واحدة":a===2?"ليلتان":a>10?`${a} ليلة`:`${a} ليال`;function Te(a){return a.getDay()>=4&&a.getDay()<=5}function se(a,t){let c,o;for(c=[],o=new Date(a);o<=new Date(t);o.setDate(o.getDate()+1))c.push(new Date(o));return c}const Re=()=>{var c,o,s,l;const{t:a}=O(),{unitDetails:t}=q();return e.jsxs("article",{children:[t&&((c=t.areaUnitSpecification)==null?void 0:c.length)>0&&e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"my-[1rem]",children:[e.jsxs("h1",{className:"mb-[1rem] flex items-center justify-start gap-3 text-[2rem] font-[600]",children:[e.jsx("div",{className:"size-[2rem] fill-[var(--main-dark)] dark:fill-[var(--primary-color)]",children:e.jsx(lt,{})}),e.jsx("p",{children:a("unitDetail.specification.title")})]}),e.jsx("ul",{className:"list-inside list-disc space-y-4 text-[1.25rem]",children:t.areaUnitSpecification.map(n=>e.jsx("li",{children:n.name},n.code))})]}),e.jsx("hr",{})]}),t&&((o=t.areaUnitFacilitiesData)==null?void 0:o.length)>0&&e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"my-[1rem]",children:[e.jsxs("h1",{className:"mb-[1rem] flex items-center justify-start gap-3 text-[2rem] font-[600]",children:[e.jsx("div",{className:"size-[2rem] fill-[var(--main-dark)] dark:fill-[var(--primary-color)]",children:e.jsx(ot,{})}),e.jsx("p",{children:a("unitDetail.specification.utilities.title")})]}),e.jsx("ul",{className:"list-inside list-disc space-y-4 text-[1.25rem]",children:t.areaUnitFacilitiesData.map(n=>e.jsx("li",{children:n.name},n.code))})]}),e.jsx("hr",{})]}),t&&((s=t.areaUnitFeaturesData)==null?void 0:s.length)>0&&e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"my-[1rem]",children:[e.jsxs("h1",{className:"mb-[1rem] flex items-center justify-start gap-3 text-[2rem] font-[600]",children:[e.jsx("div",{className:"size-[2rem] fill-[var(--main-dark)] dark:fill-[var(--primary-color)]",children:e.jsx(ct,{})}),e.jsx("p",{children:a("unitDetail.specification.features.title")})]}),e.jsx("ul",{className:"list-inside list-disc space-y-4 text-[1.25rem]",children:t.areaUnitFeaturesData.map(n=>e.jsx("li",{children:n.name},n.code))})]}),e.jsx("hr",{})]}),t&&((l=t.areaUnitskitchen)==null?void 0:l.length)>0&&e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"my-[1rem]",children:[e.jsxs("h1",{className:"mb-[1rem] flex items-center justify-start gap-3 text-[2rem] font-[600]",children:[e.jsx("div",{className:"size-[2rem] fill-[var(--main-dark)] dark:fill-[var(--primary-color)]",children:e.jsx(dt,{})}),e.jsx("p",{children:a("unitDetail.specification.kitchen.title")})]}),e.jsx("ul",{className:"list-inside list-disc space-y-4 text-[1.25rem]",children:t.areaUnitskitchen.map(n=>e.jsx("li",{children:n.name},n.code))})]}),e.jsx("hr",{})]}),t&&+t.areaUnitBedRoomsNo>0&&e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"my-[1rem]",children:[e.jsxs("div",{className:"mb-[1rem] flex items-center justify-start gap-3 text-[2rem] font-[600]",children:[e.jsx("div",{className:"size-[2rem] fill-[var(--main-dark)] dark:fill-[var(--primary-color)]",children:e.jsx(mt,{})}),e.jsx("p",{children:a("unitDetail.specification.bedrooms.title")})]}),e.jsx("ul",{className:"list-inside list-disc space-y-4 text-[1.25rem]",children:e.jsxs("li",{className:"mb-[1rem]",children:[t.areaUnitBedRoomsNo," ",a("unitDetail.specification.bedrooms.title")," (",t.areaUnitMasterBedsNo," ",a("unitDetail.specification.bedrooms.master"),")"]})})]}),e.jsx("hr",{})]})]})};function Ft({review:a}){var n;const[t,c]=O(),o=c.language==="en"?"en-us":"ar-EG",s=new Date(a.craeteUserDate),l=a.craeteUserDate?s.toLocaleDateString(o,{weekday:"long",day:"numeric",month:"long"}):"";return e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-2 text-[var(--main-dark)] dark:text-[var(--primary-color)]",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{children:e.jsx("img",{src:"/images/user-avatar.png",alt:"user avatar",width:"60px"})}),e.jsxs("div",{className:"flex h-full flex-col justify-center gap-2",children:[e.jsx("h1",{className:"text-2xl font-[600] text-[var(--main-color)]",children:"زائر"}),e.jsx("p",{children:l})]})]}),e.jsxs("h2",{className:"flex items-center gap-4",children:[e.jsx(_,{icon:be,color:"var(--main-color)"})," ",e.jsx("span",{children:t(`unitDetail.unitReviews.ratingText.${Math.floor(a.areaUnitRate)}`)}),"•",e.jsx("span",{children:a.areaUnitRate})]}),e.jsx("p",{className:"mt-4",children:a.areaUnitCommentText})]}),((n=a.areaUnitReply)==null?void 0:n.length)>0&&e.jsx(Tt,{review:a})]})}function Tt({review:a}){const[t,c]=O(),o=c.language==="en"?"en-us":"ar-EG",s=new Date(a.craeteUserDate),l=a.craeteUserDate?s.toLocaleDateString(o,{weekday:"long",day:"numeric",month:"long"}):"";return e.jsxs("div",{className:"flex flex-col gap-2 mx-1 mb-5 rounded-lg bg-[#c7c7c79f] p-5 shadow-lg dark:bg-[#0000009f]",children:[e.jsx("h1",{className:"text-xl font-[700] text-[var(--main-color)]",children:e.jsx("span",{children:t("unitDetail.unitReviews.host")})}),e.jsx("h2",{className:"text-gray-600",children:l}),e.jsx("p",{className:"mt-4 dark:text-[var(--primary-color)]",children:a.areaUnitReply})]})}function Ae(a){var t,c,o="";if(typeof a=="string"||typeof a=="number")o+=a;else if(typeof a=="object")if(Array.isArray(a)){var s=a.length;for(t=0;t<s;t++)a[t]&&(c=Ae(a[t]))&&(o&&(o+=" "),o+=c)}else for(c in a)a[c]&&(o&&(o+=" "),o+=c);return o}function X(){for(var a,t,c=0,o="",s=arguments.length;c<s;c++)(a=arguments[c])&&(t=Ae(a))&&(o&&(o+=" "),o+=t);return o}const re=a=>typeof a=="number"&&!isNaN(a),K=a=>typeof a=="string",z=a=>typeof a=="function",ce=a=>K(a)||z(a)?a:null,ge=a=>v.isValidElement(a)||K(a)||z(a)||re(a);function Rt(a,t,c){c===void 0&&(c=300);const{scrollHeight:o,style:s}=a;requestAnimationFrame(()=>{s.minHeight="initial",s.height=o+"px",s.transition=`all ${c}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,c)})})}function ue(a){let{enter:t,exit:c,appendPosition:o=!1,collapse:s=!0,collapseDuration:l=300}=a;return function(n){let{children:d,position:p,preventExitTransition:g,done:u,nodeRef:w,isIn:N,playToast:I}=n;const C=o?`${t}--${p}`:t,j=o?`${c}--${p}`:c,D=v.useRef(0);return v.useLayoutEffect(()=>{const b=w.current,r=C.split(" "),i=m=>{m.target===w.current&&(I(),b.removeEventListener("animationend",i),b.removeEventListener("animationcancel",i),D.current===0&&m.type!=="animationcancel"&&b.classList.remove(...r))};b.classList.add(...r),b.addEventListener("animationend",i),b.addEventListener("animationcancel",i)},[]),v.useEffect(()=>{const b=w.current,r=()=>{b.removeEventListener("animationend",r),s?Rt(b,u,l):u()};N||(g?r():(D.current=1,b.className+=` ${j}`,b.addEventListener("animationend",r)))},[N]),F.createElement(F.Fragment,null,d)}}function we(a,t){return a!=null?{content:a.content,containerId:a.props.containerId,id:a.props.toastId,theme:a.props.theme,type:a.props.type,data:a.props.data||{},isLoading:a.props.isLoading,icon:a.props.icon,status:t}:{}}const B=new Map;let ie=[];const je=new Set,At=a=>je.forEach(t=>t(a)),Be=()=>B.size>0;function Oe(a,t){var c;if(t)return!((c=B.get(t))==null||!c.isToastActive(a));let o=!1;return B.forEach(s=>{s.isToastActive(a)&&(o=!0)}),o}function Me(a,t){ge(a)&&(Be()||ie.push({content:a,options:t}),B.forEach(c=>{c.buildToast(a,t)}))}function Ce(a,t){B.forEach(c=>{t!=null&&t!=null&&t.containerId?(t==null?void 0:t.containerId)===c.id&&c.toggle(a,t==null?void 0:t.id):c.toggle(a,t==null?void 0:t.id)})}function Bt(a){const{subscribe:t,getSnapshot:c,setProps:o}=v.useRef(function(l){const n=l.containerId||1;return{subscribe(d){const p=function(u,w,N){let I=1,C=0,j=[],D=[],b=[],r=w;const i=new Map,m=new Set,f=()=>{b=Array.from(i.values()),m.forEach(x=>x())},E=x=>{D=x==null?[]:D.filter(h=>h!==x),f()},S=x=>{const{toastId:h,onOpen:P,updateId:$,children:R}=x.props,y=$==null;x.staleId&&i.delete(x.staleId),i.set(h,x),D=[...D,x.props.toastId].filter(k=>k!==x.staleId),f(),N(we(x,y?"added":"updated")),y&&z(P)&&P(v.isValidElement(R)&&R.props)};return{id:u,props:r,observe:x=>(m.add(x),()=>m.delete(x)),toggle:(x,h)=>{i.forEach(P=>{h!=null&&h!==P.props.toastId||z(P.toggle)&&P.toggle(x)})},removeToast:E,toasts:i,clearQueue:()=>{C-=j.length,j=[]},buildToast:(x,h)=>{if((G=>{let{containerId:H,toastId:W,updateId:Y}=G;const Q=H?H!==u:u!==1,ee=i.has(W)&&Y==null;return Q||ee})(h))return;const{toastId:P,updateId:$,data:R,staleId:y,delay:k}=h,U=()=>{E(P)},M=$==null;M&&C++;const T={...r,style:r.toastStyle,key:I++,...Object.fromEntries(Object.entries(h).filter(G=>{let[H,W]=G;return W!=null})),toastId:P,updateId:$,data:R,closeToast:U,isIn:!1,className:ce(h.className||r.toastClassName),bodyClassName:ce(h.bodyClassName||r.bodyClassName),progressClassName:ce(h.progressClassName||r.progressClassName),autoClose:!h.isLoading&&(A=h.autoClose,V=r.autoClose,A===!1||re(A)&&A>0?A:V),deleteToast(){const G=i.get(P),{onClose:H,children:W}=G.props;z(H)&&H(v.isValidElement(W)&&W.props),N(we(G,"removed")),i.delete(P),C--,C<0&&(C=0),j.length>0?S(j.shift()):f()}};var A,V;T.closeButton=r.closeButton,h.closeButton===!1||ge(h.closeButton)?T.closeButton=h.closeButton:h.closeButton===!0&&(T.closeButton=!ge(r.closeButton)||r.closeButton);let Z=x;v.isValidElement(x)&&!K(x.type)?Z=v.cloneElement(x,{closeToast:U,toastProps:T,data:R}):z(x)&&(Z=x({closeToast:U,toastProps:T,data:R}));const J={content:Z,props:T,staleId:y};r.limit&&r.limit>0&&C>r.limit&&M?j.push(J):re(k)?setTimeout(()=>{S(J)},k):S(J)},setProps(x){r=x},setToggle:(x,h)=>{i.get(x).toggle=h},isToastActive:x=>D.some(h=>h===x),getSnapshot:()=>r.newestOnTop?b.reverse():b}}(n,l,At);B.set(n,p);const g=p.observe(d);return ie.forEach(u=>Me(u.content,u.options)),ie=[],()=>{g(),B.delete(n)}},setProps(d){var p;(p=B.get(n))==null||p.setProps(d)},getSnapshot(){var d;return(d=B.get(n))==null?void 0:d.getSnapshot()}}}(a)).current;o(a);const s=v.useSyncExternalStore(t,c,c);return{getToastToRender:function(l){if(!s)return[];const n=new Map;return s.forEach(d=>{const{position:p}=d.props;n.has(p)||n.set(p,[]),n.get(p).push(d)}),Array.from(n,d=>l(d[0],d[1]))},isToastActive:Oe,count:s==null?void 0:s.length}}function Ot(a){const[t,c]=v.useState(!1),[o,s]=v.useState(!1),l=v.useRef(null),n=v.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:p,closeToast:g,onClick:u,closeOnClick:w}=a;var N,I;function C(){c(!0)}function j(){c(!1)}function D(i){const m=l.current;n.canDrag&&m&&(n.didMove=!0,t&&j(),n.delta=a.draggableDirection==="x"?i.clientX-n.start:i.clientY-n.start,n.start!==i.clientX&&(n.canCloseOnClick=!1),m.style.transform=`translate3d(${a.draggableDirection==="x"?`${n.delta}px, var(--y)`:`0, calc(${n.delta}px + var(--y))`},0)`,m.style.opacity=""+(1-Math.abs(n.delta/n.removalDistance)))}function b(){document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",b);const i=l.current;if(n.canDrag&&n.didMove&&i){if(n.canDrag=!1,Math.abs(n.delta)>n.removalDistance)return s(!0),a.closeToast(),void a.collapseAll();i.style.transition="transform 0.2s, opacity 0.2s",i.style.removeProperty("transform"),i.style.removeProperty("opacity")}}(I=B.get((N={id:a.toastId,containerId:a.containerId,fn:c}).containerId||1))==null||I.setToggle(N.id,N.fn),v.useEffect(()=>{if(a.pauseOnFocusLoss)return document.hasFocus()||j(),window.addEventListener("focus",C),window.addEventListener("blur",j),()=>{window.removeEventListener("focus",C),window.removeEventListener("blur",j)}},[a.pauseOnFocusLoss]);const r={onPointerDown:function(i){if(a.draggable===!0||a.draggable===i.pointerType){n.didMove=!1,document.addEventListener("pointermove",D),document.addEventListener("pointerup",b);const m=l.current;n.canCloseOnClick=!0,n.canDrag=!0,m.style.transition="none",a.draggableDirection==="x"?(n.start=i.clientX,n.removalDistance=m.offsetWidth*(a.draggablePercent/100)):(n.start=i.clientY,n.removalDistance=m.offsetHeight*(a.draggablePercent===80?1.5*a.draggablePercent:a.draggablePercent)/100)}},onPointerUp:function(i){const{top:m,bottom:f,left:E,right:S}=l.current.getBoundingClientRect();i.nativeEvent.type!=="touchend"&&a.pauseOnHover&&i.clientX>=E&&i.clientX<=S&&i.clientY>=m&&i.clientY<=f?j():C()}};return d&&p&&(r.onMouseEnter=j,a.stacked||(r.onMouseLeave=C)),w&&(r.onClick=i=>{u&&u(i),n.canCloseOnClick&&g()}),{playToast:C,pauseToast:j,isRunning:t,preventExitTransition:o,toastRef:l,eventHandlers:r}}function Mt(a){let{delay:t,isRunning:c,closeToast:o,type:s="default",hide:l,className:n,style:d,controlledProgress:p,progress:g,rtl:u,isIn:w,theme:N}=a;const I=l||p&&g===0,C={...d,animationDuration:`${t}ms`,animationPlayState:c?"running":"paused"};p&&(C.transform=`scaleX(${g})`);const j=X("Toastify__progress-bar",p?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${N}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":u}),D=z(n)?n({rtl:u,type:s,defaultClassName:j}):X(j,n),b={[p&&g>=1?"onTransitionEnd":"onAnimationEnd"]:p&&g<1?null:()=>{w&&o()}};return F.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":I},F.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${N} Toastify__progress-bar--${s}`}),F.createElement("div",{role:"progressbar","aria-hidden":I?"true":"false","aria-label":"notification timer",className:D,style:C,...b}))}let _t=1;const _e=()=>""+_t++;function zt(a){return a&&(K(a.toastId)||re(a.toastId))?a.toastId:_e()}function ne(a,t){return Me(a,t),t.toastId}function pe(a,t){return{...t,type:t&&t.type||a,toastId:zt(t)}}function le(a){return(t,c)=>ne(t,pe(a,c))}function L(a,t){return ne(a,pe("default",t))}L.loading=(a,t)=>ne(a,pe("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),L.promise=function(a,t,c){let o,{pending:s,error:l,success:n}=t;s&&(o=K(s)?L.loading(s,c):L.loading(s.render,{...c,...s}));const d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},p=(u,w,N)=>{if(w==null)return void L.dismiss(o);const I={type:u,...d,...c,data:N},C=K(w)?{render:w}:w;return o?L.update(o,{...I,...C}):L(C.render,{...I,...C}),N},g=z(a)?a():a;return g.then(u=>p("success",n,u)).catch(u=>p("error",l,u)),g},L.success=le("success"),L.info=le("info"),L.error=le("error"),L.warning=le("warning"),L.warn=L.warning,L.dark=(a,t)=>ne(a,pe("default",{theme:"dark",...t})),L.dismiss=function(a){(function(t){var c;if(Be()){if(t==null||K(c=t)||re(c))B.forEach(o=>{o.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){const o=B.get(t.containerId);o?o.removeToast(t.id):B.forEach(s=>{s.removeToast(t.id)})}}else ie=ie.filter(o=>t!=null&&o.options.toastId!==t)})(a)},L.clearWaitingQueue=function(a){a===void 0&&(a={}),B.forEach(t=>{!t.props.limit||a.containerId&&t.id!==a.containerId||t.clearQueue()})},L.isActive=Oe,L.update=function(a,t){t===void 0&&(t={});const c=((o,s)=>{var l;let{containerId:n}=s;return(l=B.get(n||1))==null?void 0:l.toasts.get(o)})(a,t);if(c){const{props:o,content:s}=c,l={delay:100,...o,...t,toastId:t.toastId||a,updateId:_e()};l.toastId!==a&&(l.staleId=a);const n=l.render||s;delete l.render,ne(n,l)}},L.done=a=>{L.update(a,{progress:1})},L.onChange=function(a){return je.add(a),()=>{je.delete(a)}},L.play=a=>Ce(!0,a),L.pause=a=>Ce(!1,a);const Ht=typeof window<"u"?v.useLayoutEffect:v.useEffect,oe=a=>{let{theme:t,type:c,isLoading:o,...s}=a;return F.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${c})`,...s})},fe={info:function(a){return F.createElement(oe,{...a},F.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(a){return F.createElement(oe,{...a},F.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(a){return F.createElement(oe,{...a},F.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(a){return F.createElement(oe,{...a},F.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return F.createElement("div",{className:"Toastify__spinner"})}},Vt=a=>{const{isRunning:t,preventExitTransition:c,toastRef:o,eventHandlers:s,playToast:l}=Ot(a),{closeButton:n,children:d,autoClose:p,onClick:g,type:u,hideProgressBar:w,closeToast:N,transition:I,position:C,className:j,style:D,bodyClassName:b,bodyStyle:r,progressClassName:i,progressStyle:m,updateId:f,role:E,progress:S,rtl:x,toastId:h,deleteToast:P,isIn:$,isLoading:R,closeOnClick:y,theme:k}=a,U=X("Toastify__toast",`Toastify__toast-theme--${k}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":x},{"Toastify__toast--close-on-click":y}),M=z(j)?j({rtl:x,position:C,type:u,defaultClassName:U}):X(U,j),T=function(J){let{theme:G,type:H,isLoading:W,icon:Y}=J,Q=null;const ee={theme:G,type:H};return Y===!1||(z(Y)?Q=Y({...ee,isLoading:W}):v.isValidElement(Y)?Q=v.cloneElement(Y,ee):W?Q=fe.spinner():(Xe=>Xe in fe)(H)&&(Q=fe[H](ee))),Q}(a),A=!!S||!p,V={closeToast:N,type:u,theme:k};let Z=null;return n===!1||(Z=z(n)?n(V):v.isValidElement(n)?v.cloneElement(n,V):function(J){let{closeToast:G,theme:H,ariaLabel:W="close"}=J;return F.createElement("button",{className:`Toastify__close-button Toastify__close-button--${H}`,type:"button",onClick:Y=>{Y.stopPropagation(),G(Y)},"aria-label":W},F.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},F.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(V)),F.createElement(I,{isIn:$,done:P,position:C,preventExitTransition:c,nodeRef:o,playToast:l},F.createElement("div",{id:h,onClick:g,"data-in":$,className:M,...s,style:D,ref:o},F.createElement("div",{...$&&{role:E},className:z(b)?b({type:u}):X("Toastify__toast-body",b),style:r},T!=null&&F.createElement("div",{className:X("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},T),F.createElement("div",null,d)),Z,F.createElement(Mt,{...f&&!A?{key:`pb-${f}`}:{},rtl:x,theme:k,delay:p,isRunning:t,isIn:$,closeToast:N,hide:w,type:u,style:m,className:i,controlledProgress:A,progress:S||0})))},he=function(a,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${a}-enter`,exit:`Toastify--animate Toastify__${a}-exit`,appendPosition:t}},Wt=ue(he("bounce",!0)),qt=ue(he("slide",!0));ue(he("zoom"));ue(he("flip"));const Gt={position:"top-right",transition:Wt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Yt(a){let t={...Gt,...a};const c=a.stacked,[o,s]=v.useState(!0),l=v.useRef(null),{getToastToRender:n,isToastActive:d,count:p}=Bt(t),{className:g,style:u,rtl:w,containerId:N}=t;function I(j){const D=X("Toastify__toast-container",`Toastify__toast-container--${j}`,{"Toastify__toast-container--rtl":w});return z(g)?g({position:j,rtl:w,defaultClassName:D}):X(D,ce(g))}function C(){c&&(s(!0),L.play())}return Ht(()=>{if(c){var j;const D=l.current.querySelectorAll('[data-in="true"]'),b=12,r=(j=t.position)==null?void 0:j.includes("top");let i=0,m=0;Array.from(D).reverse().forEach((f,E)=>{const S=f;S.classList.add("Toastify__toast--stacked"),E>0&&(S.dataset.collapsed=`${o}`),S.dataset.pos||(S.dataset.pos=r?"top":"bot");const x=i*(o?.2:1)+(o?0:b*E);S.style.setProperty("--y",`${r?x:-1*x}px`),S.style.setProperty("--g",`${b}`),S.style.setProperty("--s",""+(1-(o?m:0))),i+=S.offsetHeight,m+=.025})}},[o,p,c]),F.createElement("div",{ref:l,className:"Toastify",id:N,onMouseEnter:()=>{c&&(s(!1),L.pause())},onMouseLeave:C},n((j,D)=>{const b=D.length?{...u}:{...u,pointerEvents:"none"};return F.createElement("div",{className:I(j),style:b,key:`container-${j}`},D.map(r=>{let{content:i,props:m}=r;return F.createElement(Vt,{...m,stacked:c,collapseAll:C,isIn:d(m.toastId,m.containerId),style:m.style,key:`toast-${m.key}`},i)}))}))}const Xt=({totalStars:a,onChange:t,value:c})=>{const o=s=>{t(s)};return e.jsx("div",{className:"flex items-center",children:[...Array(a)].map((s,l)=>{const n=l+1;return e.jsx("span",{onClick:()=>o(n),className:"cursor-pointer",children:n<=(c||0)?e.jsx(_,{icon:be,className:"text-yellow-500 text-3xl"}):e.jsx(_,{icon:Dt,className:"text-gray-400 text-3xl"})},l)})})},Jt=({onClose:a,onConfirm:t,unitCode:c,setShowRentCheckPopup:o})=>{const[s,l]=v.useState(""),[n,d]=v.useState(""),[p,g]=v.useState(0),[u,w]=v.useState(!1),[N,I]=v.useState(""),[C,j]=v.useState(0),[D,b]=v.useState(!1),r=y=>{g(y)},i=async()=>{const y=s.replace(/^\+966/,"0");if(s.trim()!=="")try{const k=await Ee(y,c);w(k.data.contractExisting),I(k.data.contractLastDate),j(k.data.totalDaysDifference),t(s);const U=k.data.contractExisting?"تم التحقق بنجاح":"لم تقم بتأجير الوحدة";L[k.data.contractExisting?"success":"error"](U)}catch(k){console.error("Error checking if user rented the unit:",k),L.error("فشل التحقق")}},m=async()=>{if(n.trim()!=="")try{const y=await Je.post(`${Qe}/CreateAreaUnitComment`,{areaUnitCode:c,areaUnitCommentText:n,areaUnitRate:p});console.log("Comment created successfully:",y.data),d(""),g(0),o(!1)}catch(y){console.error("Error creating comment:",y)}},f=y=>{try{const k=new Ct().input(y||""),U=kt(k,"SA");return U?{parsed:U.isValid(),countryCode:U.countryCallingCode,number:U.formatNational().replace(/\s/g,"")}:{parsed:!1}}catch(k){return console.error("Error validating phone number:",k),{parsed:!1}}},E=new Date(+N),S=E.getDate(),x=E.getMonth()+1,h=E.getFullYear(),P=E.getHours(),$=E.getMinutes(),R=`تم اخر حجز بتاريخ ${S}/${x}/${h} الساعة ${P}:${$}`;return e.jsx("div",{className:"fixed top-0 left-0 w-full h-full flex justify-center items-center bg-gray-900 bg-opacity-50 z-10 ",children:e.jsxs("div",{className:"bg-[--main-dark] w-full max-w-[80%] lg:w-auto h-auto p-10 rounded-lg",children:[e.jsx("h2",{className:"text-3xl mb-4 text-white font-bold",children:"ادخل رقم الهاتف"}),e.jsxs("div",{className:"ratingForm ",children:[e.jsx("div",{className:"w-full mb-4 ",children:e.jsx(wt,{value:s,onChange:y=>{typeof y=="string"&&(l(y),b(f(y).parsed))},onBlur:()=>{b(f(s).parsed)},defaultCountry:"SA",className:`cus-foucs border rounded-[8px] rtl:flex-row-reverse text-black text-2xl w-full ${D?"valid":""}`})}),u&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col my-2",children:[e.jsx("div",{className:"text-white text-2xl mx-2 my-2",children:R}),e.jsxs("div",{className:"text-white text-2xl mx-2 my-2",children:["اخر حجز كان منذ ",Math.round(-1*C)," ايام"]})]}),e.jsx("h1",{className:"my-3 text-white",children:"اضافة تقييم"}),e.jsx(Xt,{totalStars:5,onChange:r,value:p}),e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col mb-5",children:[e.jsx("label",{htmlFor:"comment",className:"mb-2 text-[--main-dark]",children:"تعليق"}),e.jsx("textarea",{name:"comment",id:"comment",className:"text-black w-full h-32 mb-4 text-2xl",value:n,onChange:y=>d(y.target.value)}),e.jsx(me,{className:"h-16 text-2xl font-bold",onClick:m,children:"ارسال"})]})})]}),e.jsxs("div",{className:"ratingButtonBox",children:[e.jsx("div",{className:"",children:e.jsx(me,{className:" ",onClick:i,disabled:!D,children:"تحقق"})}),e.jsx("div",{className:"",children:e.jsx(Fe,{className:"",onClick:a,children:"الغاء"})})]})]})]})})},ze=()=>{var d;const[a]=O(),{unitDetails:t}=q(),[c,o]=v.useState(!1),s=((d=t==null?void 0:t.areaUnitComment)==null?void 0:d.filter(p=>p.areaUnitStatus>0||!0))??[],l=()=>{o(!1)},n=async p=>{try{const g=(t==null?void 0:t.areaUnitCode)||"";return(await Ee(p,g)).data.length>0}catch(g){return console.error("Error checking if user rented the unit:",g),!1}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"mb-8 text-[2rem] font-[600]",children:a("unitDetail.unitReviews.guestReviews")}),e.jsx(me,{className:"h-12",onClick:()=>o(!0),children:"اضافة تعليق"})]}),s.length===0?e.jsx("h2",{className:"text-[1.5rem] italic text-[var(--primary-color)]",children:a("unitDetail.unitReviews.noReviewsYet")}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:s.map((p,g)=>e.jsx(Ft,{review:p},g))}),c&&e.jsx(Jt,{onClose:l,onConfirm:n,unitCode:(t==null?void 0:t.areaUnitCode)||"",setShowRentCheckPopup:o})]})},He=()=>{const{unitDetails:a}=q(),t=a!=null&&a.areaUnitLocation.includes(", ")&&a.areaUnitLocation.split(", ").length===2?a.areaUnitLocation.split(", ").map(c=>+c):[23.8725553,34.4324585];return e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"size-[40rem] border",children:e.jsxs(St,{style:{height:"100%"},center:t,zoom:16,scrollWheelZoom:!1,zoomControl:!1,children:[e.jsx(Ut,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),e.jsx(It,{position:t,icon:Pt})]})})})},Ve=()=>{const{unitDetails:a}=q();return e.jsx("article",{children:e.jsxs("ol",{className:"list-inside list-decimal space-y-4 text-justify text-[1.25rem] marker:font-[700]",children:[e.jsx("li",{children:"الالتزام بتعاليم الدين الإسلامي وما يتناسب مع العادات والتقاليد المتبعة في المملكة العربية السعودية ."}),e.jsx("li",{children:"لا يحق للمستأجر استرجاع قيمة الايجار بعد استلام الوحدة نهائياً ."}),e.jsxs("li",{children:["رسوم العقد   (",a==null?void 0:a.sectionValue,")   ريال وهذه الرسوم غير مسترده بعد تسجيل العقد ."]}),e.jsx("li",{children:"الالتزام بعدم التجمع في المناطق المشتركة بالقطاع والذي يسبب الإزعاج بأي وسلية كانت ."}),e.jsx("li",{children:"يتحمل المستأجر المسؤولية كاملة عن كل ما يصدر من المرافقين و الزوار ويحق لإدارة القطاع اتخاذ الاجراءالمناسب دون الرجوع للمستأجر ."}),e.jsx("li",{children:'اخلاء مسؤولية شركة أملاك الشاطئ والمؤجر وإدارة القطاع اتجاه أي مسائلات من أي نوع في حالة الإصابة أو الوفاة " لا قدر الله " لأي شخص من المرافقين او الزوار .'}),e.jsx("li",{children:"اخلاء مسؤولية أملاك الشاطئ والمؤجر وإدارة القطاع عن أي حالة غرق في المسابح او البحر مع العلم أن السباحة في الأماكن المخصصة لذلك تحت مسؤوليتكم الشخصية والتعهد بوجود شخص بالغ عند سباحة الأطفال حفاظا على سلامتكم ."}),e.jsx("li",{children:"يجب دفع مبلغ التأمين لضمان حسن استخدام الوحدة والمرافق العامة ويسترجع مبلغ التأمين في حالة عدم وجود أي تلفيات أو غرامات أو مخالفات أو تأخير في موعد المغادرة ."}),e.jsx("li",{children:"الوحدة أسست لراحتكم واستمتاعكم بكل ما فيها ، لذا فإن كل محتويات الوحدة ستكون تحت مسؤوليتكم أثناء الإقامة وفي حالة وجود اضرار ناتجه عن سوء الاستخدام سوف تضاف لحسابكم الخاص وتخصم من مبلغ التأمين وفي حالة عدم كفاية مبلغ التأمين يلتزم المستأجر بدفع المبلغ كاملا ."}),e.jsx("li",{children:"الالتزام بعدم اخراج او تحريك الأثاث والمفروشات داخل أو خارج الوحدة ."}),e.jsx("li",{children:"يمنع استخدام مكبرات الصوت أو إزعاج الجيران بأي وسيلة وفي حال المخالفة يتحمل المستأجر تسديد مبلغ المخالفة 1000 ريال لصالح إدارة القطاع ."}),e.jsx("li",{children:"السكن مخصص للعلائلات فقط وفي حال المخالفة يتحمل المستأجر تسديد مبلغ المخالفة 1000 ريال لصالح إدارة القطاع ، وتمنع الزيارة للأفراد -الشباب ."}),e.jsx("li",{children:"الالتزام بالتقيد بموعد المغادرة الساعة 12 ظهرا وسيتم احتساب ليلة إضافية في حالة التأخر عن الموعد ."}),e.jsx("li",{children:"المؤجر والقطاع غير مسؤولين عن فقدان أو تلف المتعلقات الشخصية طوال فترة سريان اللإقامة ."}),e.jsx("li",{children:"شركة أملاك الشاطئ غير مسؤولة عن تصاريح الدخول للأفراد - الشباب - والسيارات ، حيث أن أرقام لوحات السيارات المذكورة بالعقد لدخول العائلات فقط ."}),e.jsx("li",{children:"عند ادخال الكود المرسل لجوال المستأجر فانه موافقة صريحة منه على بنود العقد كما انه يقر بصحة البيانات المدخلة وإلتزامه بتنفيذ كافة الشروط والاحكام ."}),e.jsx("li",{children:"يفوض طرفي العقد شركة أملاك الشاطئ للإحتفاظ بالبيانات وادخالها في المنصات الرسمية ."}),e.jsx("li",{children:"يمنع دخول الحيوانات ."})]})})};function ke(){const[a]=O(),{unitDetails:t}=q(),{unitAvgRating:c,unitRatingsCount:o}=$t();return e.jsxs(e.Fragment,{children:[c>0&&e.jsxs("div",{className:"rating flex items-center justify-center gap-2",children:[e.jsx(_,{color:"var(--main-color)",icon:be}),e.jsxs("span",{children:[c," ( ",o," ",a("unitDetail.rating")," )"]})]}),e.jsxs("div",{className:"location flex items-center justify-center gap-2",children:[e.jsx(_,{icon:Le}),e.jsx("span",{children:t==null?void 0:t.areaSectionName})]}),e.jsxs("div",{className:"area flex items-center justify-center gap-2",children:[e.jsx(_,{icon:ht}),e.jsxs("span",{children:[a("unitDetail.area"),t==null?void 0:t.areaUnitArea,a("unitDetail.areaUnit")]})]}),e.jsxs("div",{className:"location flex items-center justify-center gap-2",children:[e.jsx("span",{className:"size-[1rem] fill-[var(--main-dark)] dark:fill-[var(--white-color)]",children:e.jsx(pt,{})}),e.jsx("span",{children:t==null?void 0:t.areaUnitCategoryName})]}),e.jsxs("div",{className:"location flex items-center justify-center gap-2",children:[e.jsx("span",{className:"size-[1rem] fill-[var(--main-dark)] dark:fill-[var(--white-color)]",children:e.jsx(ut,{})}),e.jsx("span",{children:t==null?void 0:t.areaUnitBeachName})]})]})}function De({hideLabels:a=!1}){const{unitId:t}=ve(),[c,o]=O(),{theme:s}=Se(),l=()=>L.success(c("unitDetail.linkCopied"),{position:o.language=="ar"?"bottom-left":"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:s,transition:qt});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fav flex items-center justify-center gap-2 rounded-[1rem] p-[0.75rem] transition hover:bg-[#0000001A] dark:hover:bg-[#FFFFFF1A]",children:[e.jsx(Et,{unitId:t}),!a&&e.jsx("span",{children:c("unitDetail.favorite")})]}),e.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(`${location.origin}/search-unit/${t}`),l()},className:"share flex items-center justify-center gap-2 rounded-[1rem] p-[0.75rem] transition hover:bg-[#0000001A] dark:hover:bg-[#FFFFFF1A]",children:[e.jsx(_,{icon:ft}),!a&&e.jsx("span",{className:"ms-[1rem]",children:c("unitDetail.shares")})]}),e.jsxs(Ke,{reloadDocument:!0,to:`/search-unit/show-map/${t}`,className:"share flex cursor-pointer items-center justify-center gap-2 rounded-[1rem] p-[0.75rem] transition hover:bg-[#0000001A] dark:hover:bg-[#FFFFFF1A]",children:[e.jsx(_,{icon:Le}),!a&&e.jsx("span",{className:"ms-[1rem]",children:c("unitDetail.location")})]})]})}function Qt({setShow:a}){const{t}=O(),{unitDetails:c}=q(),[o,s]=v.useState(0),l=v.useRef(null),n=c&&c.areaUnitPhotos?[c.areaUnitMainPhoto,...c.areaUnitPhotos.map(u=>u.unitPhotoUrl)]:[""],d=()=>{a(!1)},p=()=>{s(u=>{var w;return(w=l.current)==null||w.children[u+1].scrollIntoView(),u+1})},g=()=>{s(u=>{var w;return(w=l.current)==null||w.children[u-1].scrollIntoView(),u-1})};return e.jsxs("div",{className:"fixed left-0 top-0 z-[9999] flex h-full w-full flex-col items-center justify-center gap-8 bg-[rgba(0,0,0,0.8)]",children:[e.jsx(_,{className:"absolute start-10 top-9 cursor-pointer text-[2rem] text-[var(--primary-color)] hover:text-[var(--white-color)]",icon:xt,onClick:d}),e.jsx("h1",{className:"text-center text-[3rem] font-[700] text-[var(--white-color)]",children:t("unitDetail.slideShow.title")}),e.jsxs("div",{className:"flex flex-col items-center justify-between gap-4",children:[e.jsxs("div",{dir:"ltr",className:"flex items-center justify-between gap-4",children:[e.jsx("button",{className:"cursor-pointer text-[2rem] text-[var(--primary-color)] enabled:hover:text-[var(--white-color)] disabled:cursor-not-allowed disabled:text-[#1B1F1F]",disabled:n.length<1||o===0,onClick:g,children:e.jsx(_,{icon:gt})}),e.jsx("div",{className:"size-[40rem]",children:e.jsx("img",{className:"h-[100%] w-[100%] rounded-[1rem] object-cover",src:n[o],alt:`${o}`,onError:({currentTarget:u})=>{u.onerror=null,u.src="/images/placeholder-image.jpg"}})}),e.jsx("button",{className:"cursor-pointer text-[2rem] text-[var(--primary-color)] enabled:hover:text-[var(--white-color)] disabled:cursor-not-allowed disabled:text-[#1B1F1F]",disabled:n.length<1||o===n.length-1,onClick:p,children:e.jsx(_,{icon:jt})})]}),e.jsx("div",{dir:"ltr",className:"images-carousel flex w-[50%] items-center justify-between gap-3 overflow-x-scroll",ref:l,children:n.map((u,w)=>e.jsx("img",{className:`size-[5rem] rounded-[0.5rem] mb-4 object-cover cursor-pointer border-2  ${o===w?"border-[white]":"border-[#00000000]"}`,src:u,alt:u,onClick:()=>s(w),onError:({currentTarget:N})=>{N.onerror=null,N.src="/images/placeholder-image.jpg"}},w))})]})]})}const Kt=()=>{const{t:a}=O(),{unitDetails:t}=q(),[c,o]=v.useState(!1),s=t!=null&&t.areaUnitPhotos?[t==null?void 0:t.areaUnitMainPhoto,...((t==null?void 0:t.areaUnitPhotos)??[""]).map(l=>l.unitPhotoUrl)]:[""];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"grid-container",children:[e.jsx("div",{className:"item overflow-hidden rounded-s-[12px]",children:e.jsx("img",{className:"h-full w-full",src:t==null?void 0:t.areaUnitMainPhoto,alt:"Unit Main Photo"})}),s.slice(0,4).map((l,n)=>e.jsx("div",{className:`item overflow-hidden ${n===1&&"rounded-se-[12px]"} ${n===3&&"item rounded-ee-[12px]"}`,children:e.jsx("img",{className:"h-full w-full",src:l,alt:`Image ${n+1}`,onError:({currentTarget:d})=>{d.onerror=null,d.src="/images/placeholder-image.jpg"}})},n))]}),e.jsx("div",{className:"absolute bottom-5 start-5 z-20 flex gap-5",children:e.jsxs("button",{className:"flex cursor-pointer items-center gap-x-3 rounded-lg border bg-[rgba(0,0,0,0.4)] p-2 text-[var(--white-color)] transition-all hover:bg-[var(--main-color)] dark:hover:bg-[var(--main-dark)]",onClick:()=>o(l=>!l),children:[e.jsx(_,{icon:vt}),a("unitDetail.slideShow.buttonLabel")]})})]}),c&&e.jsx(Qt,{setShow:o})]})},We=({title:a,children:t})=>{const[c,o]=v.useState(!1),{t:s}=O(),l=()=>{o(!c)},{theme:n}=Se();return e.jsxs("div",{className:"rounded-[12px] border p-4 transition-all duration-300 ease-in-out",children:[e.jsxs("div",{className:"flex cursor-pointer items-center justify-between gap-5",onClick:l,children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("img",{className:"size-[5rem]",src:n==="dark"?"/images/logo.png":"/images/logo-dark.png",alt:"Logo"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-[1rem] text-lg font-semibold",children:a}),e.jsx("p",{className:"text-[1rem]",children:s("unitDetail.subBeach")})]})]}),e.jsx("div",{className:"text-gray-600 dark:text-[var(--white-color)]",children:e.jsx(_,{icon:c?bt:yt})})]}),c&&e.jsx("div",{className:"mt-2",children:t})]})},Zt=()=>{const{t:a}=O(),{unitDetails:t}=q(),[c,o]=v.useState(0),s=[{title:a("unitDetail.specification.title"),component:e.jsx(Re,{})},{title:a("unitDetail.rate"),component:e.jsx(ze,{})},{title:a("unitDetail.mapsite"),component:e.jsx(He,{})},{title:a("unitDetail.conditionroom"),component:e.jsx(Ve,{})}],l=n=>o(n);return e.jsxs("div",{className:"flex flex-[2] flex-col justify-start gap-[2rem]",children:[e.jsx(We,{title:a("unitDetail.beach"),children:e.jsx("p",{children:a("unitDetail.openSub")})}),t&&t.areaUnitDescription&&e.jsxs("section",{children:[e.jsx("h1",{className:"mb-[1rem] text-[2.5rem] font-[500]",children:a("unitDetail.description")}),e.jsx("p",{className:"text-justify text-[1rem]",children:t.areaUnitDescription})]}),e.jsx("nav",{className:"detials-nav w-full rounded-full border border-[#E3E3E3] px-[0.75ch] py-[0.5ch]",children:e.jsx("ul",{className:"flex items-center justify-between",children:s.map((n,d)=>e.jsx("li",{children:e.jsx("button",{className:`dark:text-[var(--white-color)] w-full ${c===d?"active":""}`,onClick:()=>l(d),children:n.title})},d))})}),e.jsx("div",{children:s[c].component})]})};function qe({offer:a,className:t="",hideDetails:c=!1}){const{t:o}=O();return e.jsxs("section",{className:`flex flex-wrap justify-between items-center gap-4 text-[var(--main-dark)] dark:text-[var(--main-color)] font-[700] ${t}`,children:[e.jsxs("div",{className:"flex-1 whitespace-nowrap",children:[e.jsxs("h2",{className:"mb-4 flex gap-4 text-[1.75rem]",children:[e.jsx("div",{className:"rounded-full bg-[var(--main-color)] px-[1ch] text-[var(--main-dark)]",children:e.jsx(_,{icon:Nt})}),e.jsx("span",{className:"flex-1",children:a.unitOfferDateText})]}),e.jsx("h3",{className:"text-[1.25rem] text-[var(--main-dark)] dark:text-[var(--main-color)]",children:a.offerTypeText})]}),!c&&e.jsxs("p",{className:"text-[.75rem] font-[600] text-[var(--primary-color)]",children:[o("unitDetail.left-aside.offerFrom")," ",e.jsx("span",{className:"text-[1rem] font-[800]",children:new Date(a.unitOfferDateStart).toLocaleDateString()})," ",o("unitDetail.left-aside.offerTo")," ",e.jsx("span",{className:"text-[1rem] font-[800]",children:new Date(a.unitOfferDateEnd).toLocaleDateString()})," ",o("unitDetail.left-aside.offerValidDays")," ",e.jsx("br",{}),e.jsx("span",{className:"text-[1rem] font-[800]",children:a.offerDays.join(", ")})]})]})}const Ge=()=>{var b,r;const[a,t]=O(),{startDate:{value:c},endDate:{value:o}}=ye(),{unitDetails:s}=q(),{contractTotal:l,loadingContractTotal:n}=de(c,o),d=v.useRef(0),p=ae(d.current,t.language),g=(l==null?void 0:l.nights)||0,u=(l==null?void 0:l.weekEndNights)||0,w=(l==null?void 0:l.nights)||0,N=(l==null?void 0:l.weekEndNights)||0,I=ae(w,t.language),C=ae(N,t.language),j=d.current>0,D=[{title:(l==null?void 0:l.isPricing)!==0?`${I} *  ${a("unitDetail.specialPrice")}`:`${I} *
              ${s==null?void 0:s.areaUnitPrice} ${a("unitDetail.left-aside.SR")}`,amount:Number(l==null?void 0:l.price),hidden:g<1},{title:`${C} *
              ${s==null?void 0:s.areaUnitWeekEndPrice} ${a("unitDetail.left-aside.SR")}`,amount:Number(l==null?void 0:l.weekEndPrice),hidden:u<1},{title:`${p} * ${(s==null?void 0:s.areaUnitWeekEndPrice)||(s==null?void 0:s.areaUnitPrice)}
                ${a("unitDetail.left-aside.SR")} (${a("unitDetail.left-aside.weekend")})`,amount:d.current*Number((s==null?void 0:s.areaUnitWeekEndPrice)||(s==null?void 0:s.areaUnitPrice)),hidden:!j},{title:s&&((b=s.offersUnit)==null?void 0:b.length)>0?s.offersUnit[0].unitOfferDateText:"",amount:(l==null?void 0:l.totalOffer)??0,hidden:((r=s==null?void 0:s.offersUnit)==null?void 0:r.length)===0,discountStyling:!0},{title:a("unitDetail.left-aside.section"),amount:(l==null?void 0:l.section)??0},{title:a("unitDetail.left-aside.website"),amount:(l==null?void 0:l.webSite)??0},{title:a("unitDetail.left-aside.tax"),amount:(l==null?void 0:l.tax)??0},{title:a("unitDetail.left-aside.serviceFees"),amount:Number(l==null?void 0:l.fee)},{title:a("unitDetail.left-aside.insurance"),amount:Number(s==null?void 0:s.areaUnitInsurance),insuranceStyling:!0}];return e.jsx("div",{children:!n&&D.filter(i=>!i.hidden).map((i,m)=>{var f;return e.jsxs("div",{className:`flex justify-between items-center ${i.insuranceStyling&&"text-[var(--primary-color)] font-[700]"} ${i.discountStyling&&"text-[var(--main-color)] font-[700]"}`,children:[e.jsx("h6",{children:i.title}),e.jsxs("p",{children:[(f=i.amount)==null?void 0:f.toFixed(2)," ",a("unitDetail.left-aside.SR")]})]},m)})})};function Ye(){const[a]=O();return e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"flex",children:[e.jsx("img",{src:"/images/WarningCircle.png",alt:"Warning Icon",className:"me-4 size-[20px]"}),e.jsx("span",{children:a("unitDetail.left-aside.polic")})]}),e.jsxs("p",{className:"flex",children:[e.jsx("img",{src:"/images/WarningCircle.png",alt:"Warning Icon",className:"me-4 size-[20px]"}),e.jsx("span",{children:a("unitDetail.left-aside.disclaimer.1")})]}),e.jsxs("p",{className:"flex",children:[e.jsx("img",{src:"/images/WarningCircle.png",alt:"Warning Icon",className:"me-4 size-[20px]"}),e.jsx("span",{children:a("unitDetail.left-aside.disclaimer.2")})]})]})}const ea=()=>{var j,D,b,r,i;const{unitId:a}=ve(),[t]=O(),c=Ue(),o=$e(),{startDate:{value:s},endDate:{value:l}}=ye(),{unitDetails:n}=q(),{contractTotal:d,loadingContractTotal:p}=de(s,l),g=s&&l&&l.getTime()-s.getTime()-1||0,u=24*60*60*1e3,w=v.useRef(0),N=Math.ceil(g/u);let I=((n==null?void 0:n.bookedNights)||[]).map(m=>se(new Date(m.unitDateStart),new Date(m.unitDateEnd)).slice(0,-1)).flat();const C=()=>{o(Ie({areaUnitContractID:0,areaUnitContractCode:"0",areaUnitContractNumber:"0",areaUnitContractDate:new Date(new Date().getTime()-new Date().getTimezoneOffset()*6e4).toJSON(),areaUnitContractDateTime:new Date(new Date().getTime()-new Date().getTimezoneOffset()*6e4).toJSON(),areaUnitContractState:0,areaUnitContractType:"0",areaUnitCode:a,areaUnitPrice:Number(n==null?void 0:n.areaUnitPrice),areaUnitServiceFee:Number(n==null?void 0:n.areaUnitServiceFee),areaUnitTaxValue:n==null?void 0:n.taxValue,areaUnitSectionPercentValue:n==null?void 0:n.sectionValue,areaUnitWebSitePercentValue:n==null?void 0:n.websiteValue,areaUnitTotalPrice:d==null?void 0:d.total,checkInDate:new Date((s||new Date).getTime()-(s||new Date).getTimezoneOffset()*6e4).toJSON(),checkOutDate:new Date((l||new Date).getTime()-(l||new Date).getTimezoneOffset()*6e4).toJSON(),nightsCount:N,nightPrice:Number(n==null?void 0:n.areaUnitPrice),totalPrice:d==null?void 0:d.total,contractInsurance:Number(n==null?void 0:n.areaUnitInsurance),waletStus:"0",createUserName:"",craeteUserDate:new Date().toISOString(),updateUserName:"",updateUserDate:new Date().toISOString()})),c("/booking-confirmation")};return v.useEffect(()=>{const m=s||new Date,f=l||new Date;l||f.setDate(m.getDate()+1),w.current=se(m,f).slice(1).filter(E=>Te(E)).length},[o,a,s,l]),v.useEffect(()=>(document.title=`${n==null?void 0:n.areaUnitName} | Amlak El Shatea`||"Amlak El Shatea",()=>{document.title="Amlak El Shatea"}),[n==null?void 0:n.areaUnitName]),v.useEffect(()=>{I=((n==null?void 0:n.bookedNights)||[]).map(m=>se(new Date(m.unitDateStart),new Date(m.unitDateEnd)).slice(0,-1)).flat()},[]),console.log(),e.jsxs("aside",{className:"aside-left mb-40 flex-[1]",children:[n&&((j=n==null?void 0:n.offersUnit)==null?void 0:j.length)>0&&new Date<=new Date(`${n==null?void 0:n.offersUnit[0].unitOfferDateEnd}`)&&new Date>=new Date(`${n==null?void 0:n.offersUnit[0].unitOfferDateStart}`)?e.jsx("article",{className:"border-b border-[#E3E3E3] p-6",children:(D=n==null?void 0:n.offersUnit)==null?void 0:D.map((m,f)=>e.jsx(qe,{offer:m},f))}):e.jsx(e.Fragment,{}),e.jsxs("article",{className:"flex flex-col justify-between gap-[1rem] border-b border-[#E3E3E3] p-6 font-[700]",children:[e.jsxs("h2",{className:"text-[2rem] text-[var(--main-dark)] dark:text-[var(--main-color)]",children:[e.jsx("span",{className:"ms-[1rem] text-[1rem] font-[500] text-[#717171] ml-3 mr-3",children:t("unitDetail.normalNightPrice")}),n==null?void 0:n.areaUnitPrice,e.jsx("span",{className:"ms-[1rem] text-[1rem] font-[500] text-[#717171]",children:t("unitDetail.left-aside.night")})]}),(d==null?void 0:d.weekEndNights)!==0&&(d==null?void 0:d.isPricing)===0?e.jsxs(e.Fragment,{children:[" ",e.jsxs("h2",{className:"text-[2rem] text-[var(--main-dark)] dark:text-[var(--main-color)]",children:[e.jsx("span",{className:"ms-[1rem] text-[1rem] font-[500] text-[#717171] ml-3 mr-3 ",children:t("unitDetail.WeekendRate")}),n==null?void 0:n.areaUnitWeekEndPrice,e.jsx("span",{className:"ms-[1rem] text-[1rem] font-[500] text-[#717171]",children:t("unitDetail.left-aside.night")})]})]}):e.jsx(e.Fragment,{})]}),e.jsx("div",{className:"date flex flex-col items-center gap-6 border-b border-[#E3E3E3] p-6",children:e.jsx(Pe,{disabledDates:I})}),(d==null?void 0:d.isPricing)!==0&&(d==null?void 0:d.isPricing)!==void 0&&N>0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"border-b border-t border-[#E3E3E3] p-5",children:[e.jsx("h2",{className:"text-[2rem] text-[var(--main-dark)] dark:text-[var(--main-color)]",children:d==null?void 0:d.pricing.unitPricingDateName}),e.jsx("div",{children:e.jsxs("p",{className:"dateTitle",children:[t("booking_confirmation.EffectiveDate"),e.jsx("span",{className:"date",children:new Date((b=d==null?void 0:d.pricing)==null?void 0:b.unitPricingDateStart).toLocaleDateString()}),t("booking_confirmation.to"),e.jsx("span",{className:"date",children:new Date((r=d==null?void 0:d.pricing)==null?void 0:r.unitPricingDateEnd).toLocaleDateString()})]})}),e.jsxs("table",{className:"tableTest",children:[e.jsxs("thead",{children:[e.jsx("th",{className:"text-[1.2rem] text-[var(--main-dark)] dark:text-[var(--main-color)]",children:t("unitDetail.day")}),e.jsx("th",{children:t("unitDetail.days.Sun")}),e.jsx("th",{children:t("unitDetail.days.Mon")}),e.jsx("th",{children:t("unitDetail.days.Tue")}),e.jsx("th",{children:t("unitDetail.days.Wed")}),e.jsx("th",{children:t("unitDetail.days.Thu")}),e.jsx("th",{children:t("unitDetail.days.Fri")}),e.jsx("th",{children:t("unitDetail.days.Sat")})]}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{className:"text-[1.2rem] text-[var(--main-dark)] dark:text-[var(--main-color)]",children:t("unitDetail.price")}),(i=d==null?void 0:d.pricing)==null?void 0:i.pricingDays.map(m=>e.jsx(e.Fragment,{children:e.jsx("td",{children:m.unitPricingDayPrice})}))]})})]})]})}):"",e.jsxs("div",{className:"payed space-y-6 p-6",children:[e.jsxs("div",{className:"details-time flex items-center justify-evenly text-center",children:[e.jsxs("div",{children:[e.jsx("h5",{children:t("unitDetail.left-aside.arrivaltime")}),e.jsx("p",{children:n==null?void 0:n.areaUnitChekInTime})]}),e.jsxs("div",{children:[e.jsx("h5",{children:t("unitDetail.left-aside.departuretime")}),e.jsx("p",{children:n==null?void 0:n.areaUnitChekOutTime})]})]}),e.jsx("div",{children:e.jsx(Fe,{onClick:C,className:"choose",disabled:p||!(s&&l)||g<1,children:t("unitDetail.left-aside.choose")})}),N>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"count flex flex-col gap-3 p-[1.5rem]",children:e.jsx(Ge,{})}),e.jsxs("div",{className:"total flex items-center justify-between border-t border-[#E3E3E3] p-[1.5rem]",children:[e.jsx("h6",{children:t("unitDetail.left-aside.alltotal")}),e.jsxs("p",{children:[p&&e.jsx("span",{className:"inline-block",children:e.jsx(xe,{})}),!p&&(d==null?void 0:d.total)," ",t("unitDetail.left-aside.SR")]})]})]})]}),e.jsx("article",{className:"space-y-4 border-t border-[#E3E3E3] p-8",children:e.jsx(Ye,{})})]})},wa=()=>{var R,y,k,U,M;const[a,t]=O(),{unitId:c}=ve(),o=Ue(),{unitDetails:s,loadingUnitDetails:l}=q(),{startDate:{value:n},endDate:{value:d}}=ye(),{contractTotal:p,loadingContractTotal:g}=de(n,d),u=$e(),w=v.useRef(null),[N,I]=v.useState(0),C=[{title:a("unitDetail.specification.title"),component:e.jsx(Re,{})},{title:a("unitDetail.rate"),component:e.jsx(ze,{})},{title:a("unitDetail.mapsite"),component:e.jsx(He,{})},{title:a("unitDetail.conditionroom"),component:e.jsx(Ve,{})}],j=t.language=="ar"?"ar":"en-US",D=(n||new Date).toLocaleString(j,{month:"short",day:"numeric",year:"numeric"}),b=(d||new Date).toLocaleString(j,{month:"short",day:"numeric",year:"numeric"}),r=s!=null&&s.areaUnitPhotos?[s==null?void 0:s.areaUnitMainPhoto,...((s==null?void 0:s.areaUnitPhotos)??[]).map(T=>T.unitPhotoUrl)]:[""],{contractTotal:i}=de(n,d),m=n&&d&&d.getTime()-n.getTime()-1||0,f=24*60*60*1e3,E=v.useRef(0),S=Math.ceil(m/f),x=ae(S,t.language);console.log();const h=((s==null?void 0:s.bookedNights)||[]).map(T=>se(new Date(T.unitDateStart),new Date(T.unitDateEnd)).slice(1,-1)).flat(),P=()=>{u(Ie({areaUnitContractID:0,areaUnitContractCode:"0",areaUnitContractNumber:"0",areaUnitContractDate:new Date().toISOString(),areaUnitContractDateTime:new Date().toISOString(),areaUnitContractState:0,areaUnitContractType:"0",areaUnitCode:c,areaUnitPrice:Number(s==null?void 0:s.areaUnitPrice),areaUnitServiceFee:Number(s==null?void 0:s.areaUnitServiceFee),areaUnitTaxValue:s==null?void 0:s.taxValue,areaUnitSectionPercentValue:s==null?void 0:s.sectionValue,areaUnitWebSitePercentValue:s==null?void 0:s.websiteValue,areaUnitTotalPrice:p==null?void 0:p.total,checkInDate:n==null?void 0:n.toISOString(),checkOutDate:d==null?void 0:d.toISOString(),nightsCount:S,nightPrice:Number(s==null?void 0:s.areaUnitPrice),totalPrice:p==null?void 0:p.total,contractInsurance:Number(s==null?void 0:s.areaUnitInsurance),waletStus:"0",createUserName:"",craeteUserDate:new Date().toISOString(),updateUserName:"",updateUserDate:new Date().toISOString()})),o("/booking-confirmation")},$=T=>I(T);return v.useEffect(()=>{const T=n||new Date,A=d||new Date;E.current=se(T,A).slice(1).filter(V=>Te(V)).length},[u,c,n,d]),e.jsxs(e.Fragment,{children:[e.jsx(et,{notHomeNav:!0}),l&&e.jsx(Ze,{}),!l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"hide-nav dark:bg-[#18131ce8] dark:text-[var(--white-color)]",children:[e.jsxs("div",{className:"container my-[2rem]",children:[e.jsxs("section",{children:[e.jsx("h1",{className:"mb-2 text-[3rem] font-[700] text-[var(--main-dark)] dark:text-[var(--white-color)]",children:s==null?void 0:s.areaUnitName}),e.jsxs("p",{className:"mb-5 text-[1.5rem] text-[var(--primary-color)]",children:[a("unitDetail.subTitle")," ( ",s==null?void 0:s.areaUnitNumber," )"]}),e.jsxs("div",{className:"main-details flex flex-wrap items-center justify-between gap-3",children:[e.jsx("div",{className:"right-details flex items-center justify-center gap-5",children:e.jsx(ke,{})}),e.jsx("div",{className:"left-details flex items-center justify-center gap-5",children:e.jsx(De,{})})]})]}),e.jsx("section",{className:"mb-[3rem]",children:e.jsx(Kt,{})}),e.jsxs("section",{className:"flex w-full justify-between gap-5",children:[e.jsx(Zt,{}),e.jsx(ea,{})]})]}),e.jsx(it,{})]}),e.jsxs("div",{className:"hide-nav-mob dark:bg-[#18131ce8] dark:text-[var(--white-color)]",children:[e.jsxs("div",{className:"slide-details relative",children:[e.jsx(st,{pagination:!0,modules:[Lt],className:"mySwiper h-[500px]",children:r.map((T,A)=>e.jsx(nt,{children:e.jsx("img",{className:"h-full w-full",src:T,alt:`Image No. ${A+1}`,onError:({currentTarget:V})=>{V.onerror=null,V.src="/images/placeholder-image.jpg"}})},A))}),e.jsx("div",{className:"absolute end-8 top-5 z-10 flex items-center gap-5 text-[2rem]",children:e.jsx(De,{hideLabels:!0})})]}),e.jsxs("div",{className:"details-container",children:[e.jsx("nav",{className:"detials-nav absolute z-10 w-full translate-y-[-50%] rounded-full border border-[#E3E3E3] bg-[var(--white-color)] px-[0.75ch] py-[0.5ch] text-[1rem] dark:bg-[#18131ce8]",children:e.jsx("ul",{className:"flex items-center justify-between",children:C.map((T,A)=>e.jsx("li",{children:e.jsx("button",{className:`dark:text-[var(--white-color)] w-full ${N===A?"active":""}`,onClick:()=>$(A),children:T.title})},A))})}),e.jsx("div",{className:"px-5 pt-[50px]",children:e.jsx(We,{title:a("unitDetail.beach"),children:e.jsx("p",{children:a("unitDetail.openSub")})})}),(s==null?void 0:s.areaUnitDescription)&&e.jsxs("section",{className:"my-1rem p-5",children:[e.jsx("h1",{className:"mb-[1rem] text-[2.5rem] font-[500]",children:a("unitDetail.description")}),e.jsx("p",{className:"text-justify text-[1rem]",children:s==null?void 0:s.areaUnitDescription})]}),e.jsxs("section",{className:"p-5",children:[e.jsxs("h1",{className:"mb-[1rem] inline text-[2.5rem] font-[700] text-[var(--main-dark)] dark:text-[var(--white-color)]",children:[s==null?void 0:s.areaUnitName," ",e.jsxs("span",{className:"text-[2rem] font-[500] text-[#4D4D4D]",children:["(",s==null?void 0:s.areaUnitNumber,")"]})]}),e.jsx("div",{className:"right-details flex flex-col items-start gap-5",children:e.jsx(ke,{})})]}),e.jsx("div",{className:"px-5",children:C[N].component})]}),e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"bg-[var(--white2-color)] dark:bg-[#18131ce8]",children:[e.jsxs("div",{ref:w,className:"relative flex flex-col justify-center p-4",children:[e.jsxs("h1",{className:"mb-4 text-[1rem] md:text-[1.5rem]",children:[a("unitDetail.Book")," ( ",x," )"]}),e.jsx("div",{className:"mx-auto mb-5",children:e.jsx(Pe,{disabledDates:h})}),S>0&&(p==null?void 0:p.isPricing)!==0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"border-b border-t border-[#E3E3E3] p-1",children:[e.jsx("h2",{className:"text-[2rem] text-[var(--main-dark)] dark:text-[var(--main-color)]",children:p==null?void 0:p.pricing.unitPricingDateName}),e.jsx("div",{children:e.jsxs("p",{className:"dateTitle",children:[a("booking_confirmation.EffectiveDate"),e.jsx("span",{className:"date",children:new Date(`${(R=i==null?void 0:i.pricing)==null?void 0:R.unitPricingDateStart}`).toLocaleDateString()}),a("booking_confirmation.to"),e.jsx("span",{className:"date",children:new Date(`${(y=i==null?void 0:i.pricing)==null?void 0:y.unitPricingDateEnd}`).toLocaleDateString()})]})}),e.jsxs("table",{className:"tableInPhome",children:[e.jsxs("thead",{children:[e.jsx("th",{className:"text-[1.2rem] text-[var(--main-dark)] dark:text-[var(--main-color)]",children:a("unitDetail.day")}),e.jsx("th",{children:a("unitDetail.days.Sun")}),e.jsx("th",{children:a("unitDetail.days.Mon")}),e.jsx("th",{children:a("unitDetail.days.Tue")}),e.jsx("th",{children:a("unitDetail.days.Wed")}),e.jsx("th",{children:a("unitDetail.days.Thu")}),e.jsx("th",{children:a("unitDetail.days.Fri")}),e.jsx("th",{children:a("unitDetail.days.Sat")})]}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{className:"text-[1.2rem] text-[var(--main-dark)] dark:text-[var(--main-color)]",children:a("unitDetail.price")}),(k=p==null?void 0:p.pricing)==null?void 0:k.pricingDays.map(T=>e.jsx(e.Fragment,{children:e.jsx("td",{children:T.unitPricingDayPrice})}))]})})]})]})}):""]}),e.jsx("div",{className:"px-[20px] py-[10px]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"arrival",children:[e.jsx("h5",{children:a("unitDetail.left-aside.arrivalDate")}),e.jsx("p",{children:D})]}),e.jsxs("div",{className:"departure",children:[e.jsx("h5",{children:a("unitDetail.left-aside.departureDate")}),e.jsx("p",{children:b})]})]})}),e.jsxs("div",{className:"flex items-center justify-between px-[20px] py-[10px]",children:[e.jsxs("div",{children:[e.jsx("h5",{children:a("unitDetail.left-aside.arrivaltime")}),e.jsx("p",{children:s==null?void 0:s.areaUnitChekInTime})]}),e.jsxs("div",{children:[e.jsx("h5",{children:a("unitDetail.left-aside.departuretime")}),e.jsx("p",{children:s==null?void 0:s.areaUnitChekOutTime})]})]}),e.jsx("div",{className:"flex flex-col gap-4 p-8",children:e.jsx(Ye,{})})]})}),S>0&&e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"bg-[var(--white2-color)] dark:bg-[#18131ce8]",children:[e.jsx("div",{className:"count flex flex-col gap-3 p-[1.5rem]",children:e.jsx(Ge,{})}),e.jsxs("div",{className:"total flex items-center justify-between border-t border-[#E3E3E3] p-[1.5rem]",children:[e.jsx("h6",{children:a("unitDetail.left-aside.alltotal")}),e.jsxs("p",{children:[g&&e.jsx("span",{className:"inline-block",children:e.jsx(xe,{})}),!g&&((p==null?void 0:p.total)||(s==null?void 0:s.areaUnitPrice))," ",a("unitDetail.left-aside.SR")]})]})]})}),e.jsx("div",{className:"mt-[300px]"}),e.jsxs("div",{className:"fixed bottom-0 left-0 mx-auto w-full items-center space-y-4 bg-[#F8F8F8] p-10 dark:bg-[#18131ce8]",children:[e.jsx("div",{children:s&&((U=s==null?void 0:s.offersUnit)==null?void 0:U.length)>0&&new Date<=new Date(`${s==null?void 0:s.offersUnit[0].unitOfferDateEnd}`)&&new Date>=new Date(`${s==null?void 0:s.offersUnit[0].unitOfferDateStart}`)&&((M=s==null?void 0:s.offersUnit)==null?void 0:M.map((T,A)=>e.jsx(qe,{offer:T,hideDetails:!0},A)))}),e.jsxs("div",{className:"flex items-baseline justify-between text-end",children:[e.jsxs("p",{children:[s==null?void 0:s.areaUnitPrice," ",a("unitDetail.left-aside.night")]}),e.jsxs("p",{children:[a("unitDetail.left-aside.total")," ",S>0?x:ae(1,t.language)," ",e.jsxs("span",{className:"text-[2rem] font-[700] text-black dark:text-[var(--white-color)]",children:[g&&e.jsx("span",{className:"inline-block",children:e.jsx(xe,{})}),!g&&((p==null?void 0:p.total)||(s==null?void 0:s.areaUnitPrice))," "]}),a("unitDetail.left-aside.SR")]})]}),e.jsx(me,{onClick:P,className:"w-full",disabled:g||!(n&&d)||m<1,children:a("unitDetail.left-aside.choose")})]})]})]}),e.jsx(Yt,{limit:1,pauseOnFocusLoss:!1,closeOnClick:!0,newestOnTop:!0})]})};export{wa as default};
